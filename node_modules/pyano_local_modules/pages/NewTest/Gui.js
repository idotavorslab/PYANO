// **pages/NewTest/Gui.js
let Elements = require("./Elements");
let { bool, strong } = require("pyano_local_modules/util");
let { Alert } = require("pyano_local_modules/util/Alert");

/**@param {String} val*/
function setCurrentSubjectSubtitle(val) {
	val = bool(val)
	      ? val
	      : '--';
	Elements.$currentSubjectSubtitle
	        .html(`Current subject: ${strong(val)}`);
}

/**@param {String} filename
 @param {Number} numOfNotes*/
function setTruthFileSubtitle(filename, numOfNotes) {
	Elements.$currentTruthFileSubtitle
	        .html(`Truth File: ${strong(filename)} (${numOfNotes} notes)`);
}

/** Warn user and return false if input missing */
function toggleInputDiv($inputDiv, { bad }) {
	if (bad) {
		$inputDiv.addClass('input-missing');
		Alert.small.warning('Fill subject Id', 'Marked in red',
			() => $inputDiv.removeClass('input-missing'));
		return false;
	} else {
		$inputDiv.removeClass('input-missing');
		return true;
	}
}

function toggleMainButtons({ activate }) {

	Elements.$btns({ includeLoadBtn: false })
	        .toggleClass('inactive-btn', !activate)
	        .toggleClass('active-btn', activate);
}


module.exports = {
	toggleMainButtons,
	setCurrentSubjectSubtitle,
	toggleInputDiv,
	setTruthFileSubtitle,

};
