// **pages/NewTest/Gui.js
let Elements = require("./Elements");
let { strong } = require("pyano_local_modules/util");

/**@param {string} val*/
function setCurrentSubjectSubtitle(val) {
	val = bool(val)
	      ? val
	      : '--';
	Elements.$currentSubjectSubtitle
	        .html(`Current subject: ${strong(val)}`);
}

/**@param {Truth} truth
 * @param {number} numOfNotes*/
function setTruthFileSubtitle(truth, numOfNotes) {
	Elements.$currentTruthFileSubtitle
	        .html(`Truth File: ${strong(truth.name)} (${numOfNotes} notes)`);
}

/** Warn user and return false if input missing */
function toggleInputDiv($inputDiv, { bad }) {
	if (bad) {
		$inputDiv.addClass('input-missing');
		Alert.small._warning({
			title: 'Fill subject Id',
			html: 'Marked in red',
			onAfterClose: () => $inputDiv.removeClass('input-missing')
		});

		return false;
	} else {
		$inputDiv.removeClass('input-missing');
		return true;
	}
}

function toggleButtons(noZeroes) {

	Elements.$btns({ includeLoadBtn: false })
	        .toggleClass('inactive-btn', !noZeroes)
	        .toggleClass('active-btn', noZeroes);

}


module.exports = {
	toggleButtons,
	setCurrentSubjectSubtitle,
	toggleInputDiv,
	setTruthFileSubtitle,

};
