"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const MyStore_1 = require("./MyStore");
console.group(`ext_libs.ts`);
const path = require('path');
exports.Python = require('python-shell');
exports.EStore = new MyStore_1.MyStore();
const enginePath = path.join(exports.EStore.get('root_abs_path'), "engine");
const pyExecPath = path.join(enginePath, process.platform === 'win32' ? "env/Scripts/python.exe" : "env/bin/python");
exports.Python.defaultOptions = {
    pythonPath: pyExecPath,
    scriptPath: enginePath,
};
exports.Python.runAsync =
    (scriptPath, options) => new Promise((resolve, reject) => exports.Python.run(scriptPath, options, (err, response) => {
        if (err) {
            reject(err);
        }
        resolve(response);
    }));
console.log('ext_libs.ts EOF');
console.groupEnd();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXh0X2xpYnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJleHRfbGlicy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLHVDQUFvQztBQUVwQyxPQUFPLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBSTdCLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNoQixRQUFBLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUM7QUFFakMsUUFBQSxNQUFNLEdBQUcsSUFBSSxpQkFBTyxFQUFFLENBQUM7QUFFcEMsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFNLENBQUMsR0FBRyxDQUFDLGVBQWUsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQ3BFLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLE9BQU8sQ0FBQyxRQUFRLEtBQUssT0FBTyxDQUFDLENBQUMsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQUNySCxjQUFNLENBQUMsY0FBYyxHQUFHO0lBQ3BCLFVBQVUsRUFBRSxVQUFVO0lBQ3RCLFVBQVUsRUFBRSxVQUFVO0NBQ3pCLENBQUM7QUFFRixjQUFNLENBQUMsUUFBUTtJQUdYLENBQUMsVUFBVSxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQ3BCLElBQUksT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxFQUFFLENBQzVCLGNBQU0sQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLE9BQU8sRUFBRSxDQUFDLEdBQUcsRUFBRSxRQUFRLEVBQUUsRUFBRTtRQUM5QyxJQUFJLEdBQUcsRUFBRTtZQUNMLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUNmO1FBQ0QsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3RCLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFHaEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0FBQy9CLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGltcG9ydCB7IE15U3RvcmUgfSBmcm9tIFwiLi9NeVN0b3JlXCI7XG5pbXBvcnQgeyBNeVN0b3JlIH0gZnJvbSBcIi4vTXlTdG9yZVwiO1xuXG5jb25zb2xlLmdyb3VwKGBleHRfbGlicy50c2ApO1xuXG5cbi8vIGltcG9ydCAqIGFzIHBhdGggZnJvbSBcInBhdGhcIjtcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5leHBvcnQgY29uc3QgUHl0aG9uID0gcmVxdWlyZSgncHl0aG9uLXNoZWxsJyk7XG4vLyBjb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuZXhwb3J0IGNvbnN0IEVTdG9yZSA9IG5ldyBNeVN0b3JlKCk7XG4vLyBjb25zdCBQeXRob24gPSByZXF1aXJlKFwicHl0aG9uLXNoZWxsXCIpLlB5dGhvblNoZWxsO1xuY29uc3QgZW5naW5lUGF0aCA9IHBhdGguam9pbihFU3RvcmUuZ2V0KCdyb290X2Fic19wYXRoJyksIFwiZW5naW5lXCIpO1xuY29uc3QgcHlFeGVjUGF0aCA9IHBhdGguam9pbihlbmdpbmVQYXRoLCBwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInID8gXCJlbnYvU2NyaXB0cy9weXRob24uZXhlXCIgOiBcImVudi9iaW4vcHl0aG9uXCIpO1xuUHl0aG9uLmRlZmF1bHRPcHRpb25zID0ge1xuICAgIHB5dGhvblBhdGg6IHB5RXhlY1BhdGgsXG4gICAgc2NyaXB0UGF0aDogZW5naW5lUGF0aCxcbn07XG4vLyBAdHMtaWdub3JlXG5QeXRob24ucnVuQXN5bmMgPVxuICAgIC8qKkBwYXJhbSB7c3RyaW5nfSBzY3JpcHRQYXRoXG4gICAgIEBwYXJhbSB7T3B0aW9ucz99IG9wdGlvbnMqL1xuICAgIChzY3JpcHRQYXRoLCBvcHRpb25zKSA9PlxuICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PlxuICAgICAgICAgICAgUHl0aG9uLnJ1bihzY3JpcHRQYXRoLCBvcHRpb25zLCAoZXJyLCByZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgfSkpO1xuXG5cbmNvbnNvbGUubG9nKCdleHRfbGlicy50cyBFT0YnKTtcbmNvbnNvbGUuZ3JvdXBFbmQoKTsiXX0=